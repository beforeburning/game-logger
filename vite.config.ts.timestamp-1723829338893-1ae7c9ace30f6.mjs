// vite.config.ts
import { defineConfig, loadEnv } from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/vite@4.4.7_@types+node@20.4.5_less@4.1.3_terser@5.19.2/node_modules/vite/dist/node/index.js";
import path2 from "path";

// build/vite/plugins/index.ts
import purgeIcons from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/vite-plugin-purge-icons@0.9.2_vite@4.4.7/node_modules/vite-plugin-purge-icons/dist/index.mjs";
import react from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/@vitejs+plugin-react-swc@3.3.2_vite@4.4.7/node_modules/@vitejs/plugin-react-swc/index.mjs";

// build/vite/plugins/compression.ts
import compressionPlugin from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/vite-plugin-compression@0.5.1_vite@4.4.7/node_modules/vite-plugin-compression/dist/index.mjs";
function viteCompressionPlugin(compress = "none", deleteOriginFile = false) {
  const compressList = compress.split(",");
  const plugins = [];
  if (compressList.includes("gzip")) {
    plugins.push(
      compressionPlugin({
        ext: ".gz",
        deleteOriginFile
      })
    );
  }
  if (compressList.includes("brotli")) {
    plugins.push(
      compressionPlugin({
        ext: ".br",
        algorithm: "brotliCompress",
        deleteOriginFile
      })
    );
  }
  return plugins;
}

// build/vite/plugins/html.ts
import { createHtmlPlugin } from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/vite-plugin-html@3.2.0_vite@4.4.7/node_modules/vite-plugin-html/dist/index.mjs";
function viteHtmlPlugins(metaEnv, isProd, isBuild) {
  return createHtmlPlugin({
    minify: true,
    // entry: 'src/main.ts',
    // template: 'public/index.html',
    inject: {
      data: {
        keywords: metaEnv.VITE_PLUGIN_KEYWORDS,
        author: metaEnv.VITE_PLUGIN_AUTHOR,
        description: metaEnv.VITE_PLUGIN_DESCRIPTION,
        icon: metaEnv.VITE_PLUGIN_ICON,
        noScriptTitle: metaEnv.VITE_PLUGIN_NO_SCRIPT_TITLE,
        title: metaEnv.VITE_PLUGIN_TITLE,
        debugScript: !isProd || metaEnv.VITE_PLUGIN_SHOW_DEBUG_SCRIPT === "true" ? '<script src="/spacingjs.js" defer></script>' : "",
        processScript: isBuild ? '<script type="module">import process from "process";window.process=process;</script>' : ""
      },
      tags: [
        // {
        //   injectTo: 'body-prepend',
        //   tag: 'div',
        //   attrs: {
        //     id: 'tag',
        //   },
        // },
      ]
    }
  });
}

// build/vite/plugins/imagemin.ts
import viteImagemin from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/vite-plugin-imagemin@0.6.1_vite@4.4.7/node_modules/vite-plugin-imagemin/dist/index.mjs";
function imageminPlugin() {
  const plugin = viteImagemin({
    gifsicle: {
      optimizationLevel: 7,
      interlaced: false
    },
    optipng: {
      optimizationLevel: 7
    },
    mozjpeg: {
      quality: 8
    },
    pngquant: {
      quality: [0.8, 0.9],
      speed: 4
    },
    svgo: {
      plugins: [
        {
          removeViewBox: false
        },
        {
          removeEmptyAttrs: false
        }
      ]
    }
  });
  return plugin;
}

// build/vite/plugins/pwa.ts
import { VitePWA } from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/vite-plugin-pwa@0.16.4_vite@4.4.7_workbox-build@7.0.0_workbox-window@7.0.0/node_modules/vite-plugin-pwa/dist/index.js";
function pwaPlugin(env) {
  const {
    VITE_PLUGIN_USE_PWA: shouldUsePwa,
    VITE_PLUGIN_GLOB_APP_TITLE: appTitle,
    VITE_PLUGIN_GLOB_APP_SHORT_NAME: shortName
  } = env;
  if (shouldUsePwa) {
    const pwaPlugin2 = VitePWA({
      manifest: {
        name: appTitle,
        short_name: shortName,
        icons: [
          // 图片还不知道怎么配置
          // {
          //     src: "./resource/images/pwa-192x192.png",
          //     sizes: "192x192",
          //     type: "image/png",
          // },
          // {
          //     src: "./resource/images/pwa-512x512.png",
          //     sizes: "512x512",
          //     type: "image/png",
          // },
        ]
      }
    });
    return pwaPlugin2;
  }
  return [];
}

// build/vite/plugins/svgIcons.ts
import { createSvgIconsPlugin } from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/vite-plugin-svg-icons@2.0.1_vite@4.4.7/node_modules/vite-plugin-svg-icons/dist/index.mjs";
import path from "path";
function svgIconsPlugin(isProd) {
  const svgIconsPlugin2 = createSvgIconsPlugin({
    iconDirs: [path.resolve(process.cwd(), "src/assets/svg")],
    svgoOptions: isProd,
    // default
    symbolId: "icon-[dir]-[name]"
  });
  return svgIconsPlugin2;
}

// build/vite/plugins/visualizer.ts
import { visualizer } from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/rollup-plugin-visualizer@5.9.2_rollup@2.79.1/node_modules/rollup-plugin-visualizer/dist/plugin/index.js";
function visualizerPlugin() {
  if (process.env.REPORT) {
    const v = visualizer({
      filename: "./node_modules/.cache/visualizer/stats.html",
      open: true,
      gzipSize: true,
      brotliSize: true
    });
    return [v];
  }
  return [];
}

// build/vite/plugins/yaml.ts
import ViteYaml from "file:///Users/burning/wwwroot/yewei/game-logger/node_modules/.pnpm/@modyfi+vite-plugin-yaml@1.0.4_rollup@2.79.1_vite@4.4.7/node_modules/@modyfi/vite-plugin-yaml/dist/index.js";
function viteYaml() {
  return [ViteYaml()];
}

// build/vite/plugins/index.ts
var createVitePlugins = (metaEvn, isProd, isBuild) => {
  const {
    VITE_PLUGIN_LEGACY: legacy,
    VITE_PLUGIN_BUILD_COMPRESS_TYPE: compressType,
    VITE_PLUGIN_BUILD_COMPRESS_DELETE_ORIGIN_FILE: shouldBuildCompressDeleteFile,
    VITE_PLUGIN_USE_IMAGEMIN: shouldUseImagemin
  } = metaEvn;
  const vitePlugins = [];
  vitePlugins.push(react());
  vitePlugins.push(...viteHtmlPlugins(metaEvn, isProd, isBuild));
  vitePlugins.push(svgIconsPlugin(isProd));
  vitePlugins.push(...viteYaml());
  vitePlugins.push(purgeIcons({}));
  vitePlugins.push(...visualizerPlugin());
  if (isProd) {
    vitePlugins.push(
      viteCompressionPlugin(compressType, shouldBuildCompressDeleteFile === "true")
      // 压缩
    );
    shouldUseImagemin === "true" && vitePlugins.push(imageminPlugin());
    vitePlugins.push(...pwaPlugin(metaEvn));
  }
  return vitePlugins;
};

// vite.config.ts
var __vite_injected_original_dirname = "/Users/burning/wwwroot/yewei/game-logger";
var vite_config_default = defineConfig(({ command, mode }) => {
  console.warn("command ->", command);
  console.warn("mode ->", mode);
  const readEnv = loadEnv(mode, "./env");
  const metaEvn = readEnv;
  console.warn("IMPORT_META_ENV -> ", metaEvn);
  let port = parseInt(metaEvn.VITE_PORT ?? "3000");
  if (isNaN(port))
    port = 3e3;
  console.log("port ->", port);
  const isBuild = command === "build";
  const isProd = command === "build" && mode === "production";
  const drop_console = isProd || metaEvn.VITE_DROP_CONSOLE === "true";
  const drop_debugger = isProd || metaEvn.VITE_DROP_DEBUGGER === "true";
  let define = {};
  if (!isBuild) {
    define = {
      ...define,
      // ? 本来 astrox me 登录需要的，但是打包总是失败，html 里面引入了，这里就不需要了
      "process.env.NODE_ENV": JSON.stringify(mode),
      // 接口文件里面需要用来判断 莫名其妙要加双引号
      "process.env": process.env
      // 环境变量
    };
  }
  const common = {
    publicDir: "public",
    // 该目录下文件会原封不动存放至 dist
    mode,
    // 运行模式
    define,
    plugins: [...createVitePlugins(metaEvn, isProd, isBuild)],
    // 插件
    resolve: {
      alias: {
        "@": path2.resolve(__vite_injected_original_dirname, "src")
        // @符号要解析
      },
      extensions: [".js", ".ts", ".jsx", ".tsx"]
      // import 可以省略的拓展名
    },
    build: {
      target: "es2020",
      minify: isProd ? "terser" : false,
      // 默认为 Esbuild，它比 terser 快 20-40 倍，压缩率只差 1%-2%
      terserOptions: isProd && {
        compress: {
          // drop_console, // 生产环境去除 console
          drop_debugger
          // 生产环境去除 debugger
        }
      }
    },
    esbuild: {},
    optimizeDeps: {
      esbuildOptions: {
        target: "es2020"
        // you can also use 'es2020' here
      }
    },
    envDir: "env",
    envPrefix: ["BUILD", "CONNECT", "ALCHEMY"],
    clearScreen: false
  };
  if (!isProd) {
    return {
      // serve 独有配置 开发模式
      ...common,
      server: {
        hmr: true,
        // 热更新
        cors: true,
        host: "0.0.0.0",
        port
      }
    };
  } else {
    return {
      // build 独有配置 生产模式
      ...common
    };
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiLCAiYnVpbGQvdml0ZS9wbHVnaW5zL2luZGV4LnRzIiwgImJ1aWxkL3ZpdGUvcGx1Z2lucy9jb21wcmVzc2lvbi50cyIsICJidWlsZC92aXRlL3BsdWdpbnMvaHRtbC50cyIsICJidWlsZC92aXRlL3BsdWdpbnMvaW1hZ2VtaW4udHMiLCAiYnVpbGQvdml0ZS9wbHVnaW5zL3B3YS50cyIsICJidWlsZC92aXRlL3BsdWdpbnMvc3ZnSWNvbnMudHMiLCAiYnVpbGQvdml0ZS9wbHVnaW5zL3Zpc3VhbGl6ZXIudHMiLCAiYnVpbGQvdml0ZS9wbHVnaW5zL3lhbWwudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL3ZpdGUuY29uZmlnLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9Vc2Vycy9idXJuaW5nL3d3d3Jvb3QveWV3ZWkvZ2FtZS1sb2dnZXIvdml0ZS5jb25maWcudHNcIjtpbXBvcnQgeyBkZWZpbmVDb25maWcsIGxvYWRFbnYsIFVzZXJDb25maWcgfSBmcm9tICd2aXRlJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgY3JlYXRlVml0ZVBsdWdpbnMgfSBmcm9tICcuL2J1aWxkL3ZpdGUvcGx1Z2lucyc7XG5pbXBvcnQgeyBJbXBvcnRNZXRhRW52IH0gZnJvbSAnLi9zcmMvdml0ZS1lbnYnO1xuXG4vLyBodHRwczovL3ZpdGVqcy5kZXYvY29uZmlnL1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKCh7IGNvbW1hbmQsIG1vZGUgfSkgPT4ge1xuICAgIGNvbnNvbGUud2FybignY29tbWFuZCAtPicsIGNvbW1hbmQpO1xuICAgIGNvbnNvbGUud2FybignbW9kZSAtPicsIG1vZGUpO1xuXG4gICAgY29uc3QgcmVhZEVudiA9IGxvYWRFbnYobW9kZSwgJy4vZW52Jyk7XG4gICAgLy8gQHRzLWlnbm9yZSBmb3JjZSB0cmFuc2Zvcm0sIG5vdCBhIGJpdCBwcm9ibGVtIGZvciBzdHJpbmcgdmFyaWFibGVcbiAgICBjb25zdCBtZXRhRXZuOiBJbXBvcnRNZXRhRW52ID0gcmVhZEVudjsgLy8gXHU1QkZDXHU1MTY1XHU4QkJFXHU3RjZFXHU3Njg0XHU3M0FGXHU1ODgzXHU1M0Q4XHU5MUNGXHVGRjBDXHU0RjFBXHU2ODM5XHU2MzZFXHU5MDA5XHU2MkU5XHU3Njg0IG1vZGUgXHU5MDA5XHU2MkU5XHU2NTg3XHU0RUY2XG4gICAgY29uc29sZS53YXJuKCdJTVBPUlRfTUVUQV9FTlYgLT4gJywgbWV0YUV2bik7IC8vIFx1OEY5M1x1NTFGQVx1NTJBMFx1OEY3RFx1NzY4NFx1NzNBRlx1NTg4M1x1NTNEOFx1OTFDRlxuICAgIC8vIGJ1dCBtYXR0ZXJzIG90aGVyIHR5cGVzXG5cbiAgICAvLyBwb3J0XG4gICAgbGV0IHBvcnQgPSBwYXJzZUludChtZXRhRXZuLlZJVEVfUE9SVCA/PyAnMzAwMCcpO1xuICAgIGlmIChpc05hTihwb3J0KSkgcG9ydCA9IDMwMDA7XG4gICAgY29uc29sZS5sb2coJ3BvcnQgLT4nLCBwb3J0KTtcblxuICAgIGNvbnN0IGlzQnVpbGQgPSBjb21tYW5kID09PSAnYnVpbGQnO1xuICAgIGNvbnN0IGlzUHJvZCA9IGNvbW1hbmQgPT09ICdidWlsZCcgJiYgbW9kZSA9PT0gJ3Byb2R1Y3Rpb24nO1xuXG4gICAgLy8gY29uc29sZSBhbmQgZGVidWdnZXJcbiAgICBjb25zdCBkcm9wX2NvbnNvbGUgPSBpc1Byb2QgfHwgbWV0YUV2bi5WSVRFX0RST1BfQ09OU09MRSA9PT0gJ3RydWUnO1xuICAgIGNvbnN0IGRyb3BfZGVidWdnZXIgPSBpc1Byb2QgfHwgbWV0YUV2bi5WSVRFX0RST1BfREVCVUdHRVIgPT09ICd0cnVlJztcblxuICAgIGxldCBkZWZpbmU6IGFueSA9IHt9O1xuICAgIGlmICghaXNCdWlsZCkge1xuICAgICAgICBkZWZpbmUgPSB7XG4gICAgICAgICAgICAuLi5kZWZpbmUsXG4gICAgICAgICAgICAvLyA/IFx1NjcyQ1x1Njc2NSBhc3Ryb3ggbWUgXHU3NjdCXHU1RjU1XHU5NzAwXHU4OTgxXHU3Njg0XHVGRjBDXHU0RjQ2XHU2NjJGXHU2MjUzXHU1MzA1XHU2MDNCXHU2NjJGXHU1OTMxXHU4RDI1XHVGRjBDaHRtbCBcdTkxQ0NcdTk3NjJcdTVGMTVcdTUxNjVcdTRFODZcdUZGMENcdThGRDlcdTkxQ0NcdTVDMzFcdTRFMERcdTk3MDBcdTg5ODFcdTRFODZcbiAgICAgICAgICAgICdwcm9jZXNzLmVudi5OT0RFX0VOVic6IEpTT04uc3RyaW5naWZ5KG1vZGUpLCAvLyBcdTYzQTVcdTUzRTNcdTY1ODdcdTRFRjZcdTkxQ0NcdTk3NjJcdTk3MDBcdTg5ODFcdTc1MjhcdTY3NjVcdTUyMjRcdTY1QUQgXHU4M0FCXHU1NDBEXHU1MTc2XHU1OTk5XHU4OTgxXHU1MkEwXHU1M0NDXHU1RjE1XHU1M0Y3XG4gICAgICAgICAgICAncHJvY2Vzcy5lbnYnOiBwcm9jZXNzLmVudiwgLy8gXHU3M0FGXHU1ODgzXHU1M0Q4XHU5MUNGXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgY29tbW9uOiBVc2VyQ29uZmlnID0ge1xuICAgICAgICBwdWJsaWNEaXI6ICdwdWJsaWMnLCAvLyBcdThCRTVcdTc2RUVcdTVGNTVcdTRFMEJcdTY1ODdcdTRFRjZcdTRGMUFcdTUzOUZcdTVDMDFcdTRFMERcdTUyQThcdTVCNThcdTY1M0VcdTgxRjMgZGlzdFxuICAgICAgICBtb2RlLCAvLyBcdThGRDBcdTg4NENcdTZBMjFcdTVGMEZcbiAgICAgICAgZGVmaW5lLFxuICAgICAgICBwbHVnaW5zOiBbLi4uY3JlYXRlVml0ZVBsdWdpbnMobWV0YUV2biwgaXNQcm9kLCBpc0J1aWxkKV0sIC8vIFx1NjNEMlx1NEVGNlxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICBhbGlhczoge1xuICAgICAgICAgICAgICAgICdAJzogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ3NyYycpLCAvLyBAXHU3QjI2XHU1M0Y3XHU4OTgxXHU4OUUzXHU2NzkwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycuanMnLCAnLnRzJywgJy5qc3gnLCAnLnRzeCddLCAvLyBpbXBvcnQgXHU1M0VGXHU0RUU1XHU3NzAxXHU3NTY1XHU3Njg0XHU2MkQzXHU1QzU1XHU1NDBEXG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdlczIwMjAnLFxuICAgICAgICAgICAgbWluaWZ5OiBpc1Byb2QgPyAndGVyc2VyJyA6IGZhbHNlLCAvLyBcdTlFRDhcdThCQTRcdTRFM0EgRXNidWlsZFx1RkYwQ1x1NUI4M1x1NkJENCB0ZXJzZXIgXHU1RkVCIDIwLTQwIFx1NTAwRFx1RkYwQ1x1NTM4Qlx1N0YyOVx1NzM4N1x1NTNFQVx1NURFRSAxJS0yJVxuICAgICAgICAgICAgdGVyc2VyT3B0aW9uczogaXNQcm9kICYmIHtcbiAgICAgICAgICAgICAgICBjb21wcmVzczoge1xuICAgICAgICAgICAgICAgICAgICAvLyBkcm9wX2NvbnNvbGUsIC8vIFx1NzUxRlx1NEVBN1x1NzNBRlx1NTg4M1x1NTNCQlx1OTY2NCBjb25zb2xlXG4gICAgICAgICAgICAgICAgICAgIGRyb3BfZGVidWdnZXIsIC8vIFx1NzUxRlx1NEVBN1x1NzNBRlx1NTg4M1x1NTNCQlx1OTY2NCBkZWJ1Z2dlclxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBlc2J1aWxkOiB7fSxcbiAgICAgICAgb3B0aW1pemVEZXBzOiB7XG4gICAgICAgICAgICBlc2J1aWxkT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2VzMjAyMCcsIC8vIHlvdSBjYW4gYWxzbyB1c2UgJ2VzMjAyMCcgaGVyZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZW52RGlyOiAnZW52JyxcbiAgICAgICAgZW52UHJlZml4OiBbJ0JVSUxEJywgJ0NPTk5FQ1QnLCAnQUxDSEVNWSddLFxuICAgICAgICBjbGVhclNjcmVlbjogZmFsc2UsXG4gICAgfTtcblxuICAgIGlmICghaXNQcm9kKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBzZXJ2ZSBcdTcyRUNcdTY3MDlcdTkxNERcdTdGNkUgXHU1RjAwXHU1M0QxXHU2QTIxXHU1RjBGXG4gICAgICAgICAgICAuLi5jb21tb24sXG4gICAgICAgICAgICBzZXJ2ZXI6IHtcbiAgICAgICAgICAgICAgICBobXI6IHRydWUsIC8vIFx1NzBFRFx1NjZGNFx1NjVCMFxuICAgICAgICAgICAgICAgIGNvcnM6IHRydWUsXG4gICAgICAgICAgICAgICAgaG9zdDogJzAuMC4wLjAnLFxuICAgICAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBidWlsZCBcdTcyRUNcdTY3MDlcdTkxNERcdTdGNkUgXHU3NTFGXHU0RUE3XHU2QTIxXHU1RjBGXG4gICAgICAgICAgICAuLi5jb21tb24sXG4gICAgICAgIH07XG4gICAgfVxufSk7XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9Vc2Vycy9idXJuaW5nL3d3d3Jvb3QveWV3ZWkvZ2FtZS1sb2dnZXIvYnVpbGQvdml0ZS9wbHVnaW5zXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy9pbmRleC50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy9pbmRleC50c1wiO2ltcG9ydCB0eXBlIHsgUGx1Z2luT3B0aW9uIH0gZnJvbSAndml0ZSc7XG5pbXBvcnQgcHVyZ2VJY29ucyBmcm9tICd2aXRlLXBsdWdpbi1wdXJnZS1pY29ucyc7XG5pbXBvcnQgcmVhY3QgZnJvbSAnQHZpdGVqcy9wbHVnaW4tcmVhY3Qtc3djJztcbmltcG9ydCB7IEltcG9ydE1ldGFFbnYgfSBmcm9tICcuLi8uLi8uLi9zcmMvdml0ZS1lbnYnO1xuaW1wb3J0IHsgdml0ZUNvbXByZXNzaW9uUGx1Z2luIH0gZnJvbSAnLi9jb21wcmVzc2lvbic7XG5pbXBvcnQgeyB2aXRlSHRtbFBsdWdpbnMgfSBmcm9tICcuL2h0bWwnO1xuaW1wb3J0IHsgaW1hZ2VtaW5QbHVnaW4gfSBmcm9tICcuL2ltYWdlbWluJztcbmltcG9ydCB7IGxlZ2FjeVBsdWdpbiB9IGZyb20gJy4vbGVnYWN5JztcbmltcG9ydCB7IHB3YVBsdWdpbiB9IGZyb20gJy4vcHdhJztcbmltcG9ydCB7IHN2Z0ljb25zUGx1Z2luIH0gZnJvbSAnLi9zdmdJY29ucyc7XG5pbXBvcnQgeyB2aXN1YWxpemVyUGx1Z2luIH0gZnJvbSAnLi92aXN1YWxpemVyJztcbmltcG9ydCB7IHZpdGVZYW1sIH0gZnJvbSAnLi95YW1sJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZpdGVQbHVnaW5zID0gKG1ldGFFdm46IEltcG9ydE1ldGFFbnYsIGlzUHJvZDogYm9vbGVhbiwgaXNCdWlsZDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgVklURV9QTFVHSU5fTEVHQUNZOiBsZWdhY3ksXG4gICAgICAgIFZJVEVfUExVR0lOX0JVSUxEX0NPTVBSRVNTX1RZUEU6IGNvbXByZXNzVHlwZSxcbiAgICAgICAgVklURV9QTFVHSU5fQlVJTERfQ09NUFJFU1NfREVMRVRFX09SSUdJTl9GSUxFOiBzaG91bGRCdWlsZENvbXByZXNzRGVsZXRlRmlsZSxcbiAgICAgICAgVklURV9QTFVHSU5fVVNFX0lNQUdFTUlOOiBzaG91bGRVc2VJbWFnZW1pbixcbiAgICB9ID0gbWV0YUV2bjtcblxuICAgIGNvbnN0IHZpdGVQbHVnaW5zOiAoUGx1Z2luT3B0aW9uIHwgUGx1Z2luT3B0aW9uW10pW10gPSBbXTtcblxuICAgIHZpdGVQbHVnaW5zLnB1c2gocmVhY3QoKSk7XG4gICAgdml0ZVBsdWdpbnMucHVzaCguLi52aXRlSHRtbFBsdWdpbnMobWV0YUV2biwgaXNQcm9kLCBpc0J1aWxkKSk7IC8vIFx1NkNFOFx1NTE2NVx1OTE0RFx1N0Y2RVx1NUI1N1x1N0IyNlx1NEUzMlxuICAgIHZpdGVQbHVnaW5zLnB1c2goc3ZnSWNvbnNQbHVnaW4oaXNQcm9kKSk7IC8vIHN2ZyBcdTU2RkVcdTY4MDdcdThENDRcdTZFOTBcdTY1NzRcdTU0MDhcdTdCQTFcdTc0MDZcbiAgICB2aXRlUGx1Z2lucy5wdXNoKC4uLnZpdGVZYW1sKCkpOyAvLyB5bWxcdTVCRkNcdTUxNjVcbiAgICB2aXRlUGx1Z2lucy5wdXNoKHB1cmdlSWNvbnMoe30pKTsgLy8gXHU1NkZFXHU3MjQ3XHU3QkExXHU3NDA2XG4gICAgdml0ZVBsdWdpbnMucHVzaCguLi52aXN1YWxpemVyUGx1Z2luKCkpOyAvLyBcdTUzRUZcdTg5QzZcdTUzMTZcdTRGOURcdThENTZcdTUyMDZcdTY3OTBcdUZGMENcdTk3NUVcdTc1MUZcdTRFQTdcdTZBMjFcdTVGMEZcbiAgICAvLyBsZWdhY3kgPT09ICd0cnVlJyAmJiB2aXRlUGx1Z2lucy5wdXNoKC4uLmxlZ2FjeVBsdWdpbigpKTsgLy8gXHU0RjRFXHU3RUE3XHU2RDRGXHU4OUM4XHU1NjY4XHU2NTJGXHU2MzAxXG5cbiAgICBpZiAoaXNQcm9kKSB7XG4gICAgICAgIC8vIFx1NzUxRlx1NjIxMFx1NkEyMVx1NUYwRlx1NjI2N1x1ODg0Q1xuICAgICAgICB2aXRlUGx1Z2lucy5wdXNoKFxuICAgICAgICAgICAgdml0ZUNvbXByZXNzaW9uUGx1Z2luKGNvbXByZXNzVHlwZSwgc2hvdWxkQnVpbGRDb21wcmVzc0RlbGV0ZUZpbGUgPT09ICd0cnVlJyksIC8vIFx1NTM4Qlx1N0YyOVxuICAgICAgICApO1xuICAgICAgICBzaG91bGRVc2VJbWFnZW1pbiA9PT0gJ3RydWUnICYmIHZpdGVQbHVnaW5zLnB1c2goaW1hZ2VtaW5QbHVnaW4oKSk7IC8vIFx1NTM4Qlx1N0YyOVx1NTZGRVx1NzI0NyB2aXRlLXBsdWdpbi1pbWFnZW1pbiBcdThDOENcdTRGM0NcdThGRDlcdTRFMkFcdTYzRDJcdTRFRjZcdTRFMERcdTY1MkZcdTYzMDEgbTEgXHU4MkFGXHU3MjQ3IFx1NEVFNVx1NTQwRVx1NTE4RFx1NjhDMFx1NjdFNVx1NTQyN1xuICAgICAgICB2aXRlUGx1Z2lucy5wdXNoKC4uLnB3YVBsdWdpbihtZXRhRXZuKSk7IC8vIFx1N0YxM1x1NUI1OFx1NUU5NFx1NzUyOFx1NEVDMFx1NEU0OFx1NzY4NFxuICAgIH1cblxuICAgIHJldHVybiB2aXRlUGx1Z2lucztcbn07XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9Vc2Vycy9idXJuaW5nL3d3d3Jvb3QveWV3ZWkvZ2FtZS1sb2dnZXIvYnVpbGQvdml0ZS9wbHVnaW5zXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy9jb21wcmVzc2lvbi50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy9jb21wcmVzc2lvbi50c1wiO2ltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAndml0ZSc7XG5cbmltcG9ydCBjb21wcmVzc2lvblBsdWdpbiBmcm9tICd2aXRlLXBsdWdpbi1jb21wcmVzc2lvbic7XG5cbmV4cG9ydCBmdW5jdGlvbiB2aXRlQ29tcHJlc3Npb25QbHVnaW4oXG4gICAgY29tcHJlc3M6ICdnemlwJyB8ICdicm90bGknIHwgJ25vbmUnID0gJ25vbmUnLFxuICAgIGRlbGV0ZU9yaWdpbkZpbGUgPSBmYWxzZSxcbik6IFBsdWdpbiB8IFBsdWdpbltdIHtcbiAgICBjb25zdCBjb21wcmVzc0xpc3QgPSBjb21wcmVzcy5zcGxpdCgnLCcpO1xuXG4gICAgY29uc3QgcGx1Z2luczogUGx1Z2luW10gPSBbXTtcblxuICAgIGlmIChjb21wcmVzc0xpc3QuaW5jbHVkZXMoJ2d6aXAnKSkge1xuICAgICAgICBwbHVnaW5zLnB1c2goXG4gICAgICAgICAgICBjb21wcmVzc2lvblBsdWdpbih7XG4gICAgICAgICAgICAgICAgZXh0OiAnLmd6JyxcbiAgICAgICAgICAgICAgICBkZWxldGVPcmlnaW5GaWxlLFxuICAgICAgICAgICAgfSkgYXMgdW5rbm93biBhcyBQbHVnaW4sXG4gICAgICAgICk7XG4gICAgfVxuICAgIGlmIChjb21wcmVzc0xpc3QuaW5jbHVkZXMoJ2Jyb3RsaScpKSB7XG4gICAgICAgIHBsdWdpbnMucHVzaChcbiAgICAgICAgICAgIGNvbXByZXNzaW9uUGx1Z2luKHtcbiAgICAgICAgICAgICAgICBleHQ6ICcuYnInLFxuICAgICAgICAgICAgICAgIGFsZ29yaXRobTogJ2Jyb3RsaUNvbXByZXNzJyxcbiAgICAgICAgICAgICAgICBkZWxldGVPcmlnaW5GaWxlLFxuICAgICAgICAgICAgfSkgYXMgdW5rbm93biBhcyBQbHVnaW4sXG4gICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBwbHVnaW5zO1xufVxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2luc1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL1VzZXJzL2J1cm5pbmcvd3d3cm9vdC95ZXdlaS9nYW1lLWxvZ2dlci9idWlsZC92aXRlL3BsdWdpbnMvaHRtbC50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy9odG1sLnRzXCI7aW1wb3J0IHsgUGx1Z2luT3B0aW9uIH0gZnJvbSAndml0ZSc7XG5pbXBvcnQgeyBjcmVhdGVIdG1sUGx1Z2luIH0gZnJvbSAndml0ZS1wbHVnaW4taHRtbCc7XG5pbXBvcnQgeyBJbXBvcnRNZXRhRW52IH0gZnJvbSAnLi4vLi4vLi4vc3JjL3ZpdGUtZW52JztcblxuZXhwb3J0IGZ1bmN0aW9uIHZpdGVIdG1sUGx1Z2lucyhcbiAgICBtZXRhRW52OiBJbXBvcnRNZXRhRW52LFxuICAgIGlzUHJvZDogYm9vbGVhbixcbiAgICBpc0J1aWxkOiBib29sZWFuLFxuKTogUGx1Z2luT3B0aW9uW10ge1xuICAgIHJldHVybiBjcmVhdGVIdG1sUGx1Z2luKHtcbiAgICAgICAgbWluaWZ5OiB0cnVlLFxuICAgICAgICAvLyBlbnRyeTogJ3NyYy9tYWluLnRzJyxcbiAgICAgICAgLy8gdGVtcGxhdGU6ICdwdWJsaWMvaW5kZXguaHRtbCcsXG4gICAgICAgIGluamVjdDoge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGtleXdvcmRzOiBtZXRhRW52LlZJVEVfUExVR0lOX0tFWVdPUkRTLFxuICAgICAgICAgICAgICAgIGF1dGhvcjogbWV0YUVudi5WSVRFX1BMVUdJTl9BVVRIT1IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG1ldGFFbnYuVklURV9QTFVHSU5fREVTQ1JJUFRJT04sXG4gICAgICAgICAgICAgICAgaWNvbjogbWV0YUVudi5WSVRFX1BMVUdJTl9JQ09OLFxuICAgICAgICAgICAgICAgIG5vU2NyaXB0VGl0bGU6IG1ldGFFbnYuVklURV9QTFVHSU5fTk9fU0NSSVBUX1RJVExFLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBtZXRhRW52LlZJVEVfUExVR0lOX1RJVExFLFxuICAgICAgICAgICAgICAgIGRlYnVnU2NyaXB0OlxuICAgICAgICAgICAgICAgICAgICAhaXNQcm9kIHx8IG1ldGFFbnYuVklURV9QTFVHSU5fU0hPV19ERUJVR19TQ1JJUFQgPT09ICd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnPHNjcmlwdCBzcmM9XCIvc3BhY2luZ2pzLmpzXCIgZGVmZXI+PC9zY3JpcHQ+JyAvLyBcdTVGMDBcdTUzRDFcdTZBMjFcdTVGMEZcdTUzRUZcdTRFRTVcdTZDRThcdTUxNjVcdThGRDlcdTRFMkFcdTc3MEJcdTVDM0FcdTVCRjhcdTc2ODRcdTVERTVcdTUxNzdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1NjcmlwdDogaXNCdWlsZFxuICAgICAgICAgICAgICAgICAgICA/ICc8c2NyaXB0IHR5cGU9XCJtb2R1bGVcIj5pbXBvcnQgcHJvY2VzcyBmcm9tIFwicHJvY2Vzc1wiO3dpbmRvdy5wcm9jZXNzPXByb2Nlc3M7PC9zY3JpcHQ+J1xuICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRhZ3M6IFtcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbmplY3RUbzogJ2JvZHktcHJlcGVuZCcsXG4gICAgICAgICAgICAgICAgLy8gICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgICAgIC8vICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgaWQ6ICd0YWcnLFxuICAgICAgICAgICAgICAgIC8vICAgfSxcbiAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICB9KSBhcyB1bmtub3duIGFzIFBsdWdpbk9wdGlvbltdO1xufVxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2luc1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL1VzZXJzL2J1cm5pbmcvd3d3cm9vdC95ZXdlaS9nYW1lLWxvZ2dlci9idWlsZC92aXRlL3BsdWdpbnMvaW1hZ2VtaW4udHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL1VzZXJzL2J1cm5pbmcvd3d3cm9vdC95ZXdlaS9nYW1lLWxvZ2dlci9idWlsZC92aXRlL3BsdWdpbnMvaW1hZ2VtaW4udHNcIjsvKipcbiAqIFx1NzUyOFx1NEU4RVx1NTM4Qlx1N0YyOVx1NzUxRlx1NEVBN1x1NzNBRlx1NTg4M1x1OEY5M1x1NTFGQVx1NzY4NFx1NTZGRVx1NzI0N1x1OEQ0NFx1NkU5MFxuICogaHR0cHM6Ly9naXRodWIuY29tL2FubmN3Yi92aXRlLXBsdWdpbi1pbWFnZW1pblxuICovXG5pbXBvcnQgdml0ZUltYWdlbWluIGZyb20gJ3ZpdGUtcGx1Z2luLWltYWdlbWluJztcblxuZXhwb3J0IGZ1bmN0aW9uIGltYWdlbWluUGx1Z2luKCkge1xuICAgIGNvbnN0IHBsdWdpbiA9IHZpdGVJbWFnZW1pbih7XG4gICAgICAgIGdpZnNpY2xlOiB7XG4gICAgICAgICAgICBvcHRpbWl6YXRpb25MZXZlbDogNyxcbiAgICAgICAgICAgIGludGVybGFjZWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBvcHRpcG5nOiB7XG4gICAgICAgICAgICBvcHRpbWl6YXRpb25MZXZlbDogNyxcbiAgICAgICAgfSxcbiAgICAgICAgbW96anBlZzoge1xuICAgICAgICAgICAgcXVhbGl0eTogOCxcbiAgICAgICAgfSxcbiAgICAgICAgcG5ncXVhbnQ6IHtcbiAgICAgICAgICAgIHF1YWxpdHk6IFswLjgsIDAuOV0sXG4gICAgICAgICAgICBzcGVlZDogNCxcbiAgICAgICAgfSxcbiAgICAgICAgc3Znbzoge1xuICAgICAgICAgICAgcGx1Z2luczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVmlld0JveDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVtcHR5QXR0cnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBwbHVnaW47XG59XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9Vc2Vycy9idXJuaW5nL3d3d3Jvb3QveWV3ZWkvZ2FtZS1sb2dnZXIvYnVpbGQvdml0ZS9wbHVnaW5zXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy9wd2EudHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL1VzZXJzL2J1cm5pbmcvd3d3cm9vdC95ZXdlaS9nYW1lLWxvZ2dlci9idWlsZC92aXRlL3BsdWdpbnMvcHdhLnRzXCI7aW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICd2aXRlJztcblxuaW1wb3J0IHsgVml0ZVBXQSB9IGZyb20gJ3ZpdGUtcGx1Z2luLXB3YSc7IC8vIHZpdGUgcHdhIDAgXHU5MTREXHU3RjZFXHU2M0QyXHU0RUY2IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRmdS92aXRlLXBsdWdpbi1wd2FcblxuaW1wb3J0IHsgSW1wb3J0TWV0YUVudiB9IGZyb20gJy4uLy4uLy4uL3NyYy92aXRlLWVudic7XG5cbmV4cG9ydCBmdW5jdGlvbiBwd2FQbHVnaW4oZW52OiBJbXBvcnRNZXRhRW52KSB7XG4gICAgY29uc3Qge1xuICAgICAgICBWSVRFX1BMVUdJTl9VU0VfUFdBOiBzaG91bGRVc2VQd2EsXG4gICAgICAgIFZJVEVfUExVR0lOX0dMT0JfQVBQX1RJVExFOiBhcHBUaXRsZSxcbiAgICAgICAgVklURV9QTFVHSU5fR0xPQl9BUFBfU0hPUlRfTkFNRTogc2hvcnROYW1lLFxuICAgIH0gPSBlbnY7XG5cbiAgICBpZiAoc2hvdWxkVXNlUHdhKSB7XG4gICAgICAgIC8vIHZpdGUtcGx1Z2luLXB3YVxuICAgICAgICBjb25zdCBwd2FQbHVnaW4gPSBWaXRlUFdBKHtcbiAgICAgICAgICAgIG1hbmlmZXN0OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogYXBwVGl0bGUsXG4gICAgICAgICAgICAgICAgc2hvcnRfbmFtZTogc2hvcnROYW1lLFxuICAgICAgICAgICAgICAgIGljb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIC8vIFx1NTZGRVx1NzI0N1x1OEZEOFx1NEUwRFx1NzdFNVx1OTA1M1x1NjAwRVx1NEU0OFx1OTE0RFx1N0Y2RVxuICAgICAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzcmM6IFwiLi9yZXNvdXJjZS9pbWFnZXMvcHdhLTE5MngxOTIucG5nXCIsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzaXplczogXCIxOTJ4MTkyXCIsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImltYWdlL3BuZ1wiLFxuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzcmM6IFwiLi9yZXNvdXJjZS9pbWFnZXMvcHdhLTUxMng1MTIucG5nXCIsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzaXplczogXCI1MTJ4NTEyXCIsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImltYWdlL3BuZ1wiLFxuICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHB3YVBsdWdpbiBhcyB1bmtub3duIGFzIFBsdWdpbltdO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9Vc2Vycy9idXJuaW5nL3d3d3Jvb3QveWV3ZWkvZ2FtZS1sb2dnZXIvYnVpbGQvdml0ZS9wbHVnaW5zXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy9zdmdJY29ucy50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy9zdmdJY29ucy50c1wiO2ltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAndml0ZSc7XG5pbXBvcnQgeyBjcmVhdGVTdmdJY29uc1BsdWdpbiB9IGZyb20gJ3ZpdGUtcGx1Z2luLXN2Zy1pY29ucyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHN2Z0ljb25zUGx1Z2luKGlzUHJvZDogYm9vbGVhbikge1xuICAgIGNvbnN0IHN2Z0ljb25zUGx1Z2luID0gY3JlYXRlU3ZnSWNvbnNQbHVnaW4oe1xuICAgICAgICBpY29uRGlyczogW3BhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCAnc3JjL2Fzc2V0cy9zdmcnKV0sXG4gICAgICAgIHN2Z29PcHRpb25zOiBpc1Byb2QsXG4gICAgICAgIC8vIGRlZmF1bHRcbiAgICAgICAgc3ltYm9sSWQ6ICdpY29uLVtkaXJdLVtuYW1lXScsXG4gICAgfSk7XG4gICAgcmV0dXJuIHN2Z0ljb25zUGx1Z2luIGFzIHVua25vd24gYXMgUGx1Z2luO1xufVxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2luc1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL1VzZXJzL2J1cm5pbmcvd3d3cm9vdC95ZXdlaS9nYW1lLWxvZ2dlci9idWlsZC92aXRlL3BsdWdpbnMvdmlzdWFsaXplci50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy92aXN1YWxpemVyLnRzXCI7aW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICd2aXRlJztcbmltcG9ydCB7IHZpc3VhbGl6ZXIgfSBmcm9tICdyb2xsdXAtcGx1Z2luLXZpc3VhbGl6ZXInO1xuXG4vLyBcdTUzMDVcdTY1ODdcdTRFRjZcdTRGNTNcdTc5RUZcdTUyMDZcdTY3OTBcbmV4cG9ydCBmdW5jdGlvbiB2aXN1YWxpemVyUGx1Z2luKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5SRVBPUlQpIHtcbiAgICAgICAgY29uc3QgdiA9IHZpc3VhbGl6ZXIoe1xuICAgICAgICAgICAgZmlsZW5hbWU6ICcuL25vZGVfbW9kdWxlcy8uY2FjaGUvdmlzdWFsaXplci9zdGF0cy5odG1sJyxcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBnemlwU2l6ZTogdHJ1ZSxcbiAgICAgICAgICAgIGJyb3RsaVNpemU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW3YgYXMgdW5rbm93biBhcyBQbHVnaW5dO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9Vc2Vycy9idXJuaW5nL3d3d3Jvb3QveWV3ZWkvZ2FtZS1sb2dnZXIvYnVpbGQvdml0ZS9wbHVnaW5zXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvVXNlcnMvYnVybmluZy93d3dyb290L3lld2VpL2dhbWUtbG9nZ2VyL2J1aWxkL3ZpdGUvcGx1Z2lucy95YW1sLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9Vc2Vycy9idXJuaW5nL3d3d3Jvb3QveWV3ZWkvZ2FtZS1sb2dnZXIvYnVpbGQvdml0ZS9wbHVnaW5zL3lhbWwudHNcIjtpbXBvcnQgeyBQbHVnaW5PcHRpb24gfSBmcm9tICd2aXRlJztcbmltcG9ydCBWaXRlWWFtbCBmcm9tICdAbW9keWZpL3ZpdGUtcGx1Z2luLXlhbWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gdml0ZVlhbWwoKTogUGx1Z2luT3B0aW9uW10ge1xuICAgIHJldHVybiBbVml0ZVlhbWwoKV07XG59XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQTBTLFNBQVMsY0FBYyxlQUEyQjtBQUM1VixPQUFPQSxXQUFVOzs7QUNBakIsT0FBTyxnQkFBZ0I7QUFDdkIsT0FBTyxXQUFXOzs7QUNBbEIsT0FBTyx1QkFBdUI7QUFFdkIsU0FBUyxzQkFDWixXQUF1QyxRQUN2QyxtQkFBbUIsT0FDRjtBQUNqQixRQUFNLGVBQWUsU0FBUyxNQUFNLEdBQUc7QUFFdkMsUUFBTSxVQUFvQixDQUFDO0FBRTNCLE1BQUksYUFBYSxTQUFTLE1BQU0sR0FBRztBQUMvQixZQUFRO0FBQUEsTUFDSixrQkFBa0I7QUFBQSxRQUNkLEtBQUs7QUFBQSxRQUNMO0FBQUEsTUFDSixDQUFDO0FBQUEsSUFDTDtBQUFBLEVBQ0o7QUFDQSxNQUFJLGFBQWEsU0FBUyxRQUFRLEdBQUc7QUFDakMsWUFBUTtBQUFBLE1BQ0osa0JBQWtCO0FBQUEsUUFDZCxLQUFLO0FBQUEsUUFDTCxXQUFXO0FBQUEsUUFDWDtBQUFBLE1BQ0osQ0FBQztBQUFBLElBQ0w7QUFBQSxFQUNKO0FBQ0EsU0FBTztBQUNYOzs7QUM3QkEsU0FBUyx3QkFBd0I7QUFHMUIsU0FBUyxnQkFDWixTQUNBLFFBQ0EsU0FDYztBQUNkLFNBQU8saUJBQWlCO0FBQUEsSUFDcEIsUUFBUTtBQUFBO0FBQUE7QUFBQSxJQUdSLFFBQVE7QUFBQSxNQUNKLE1BQU07QUFBQSxRQUNGLFVBQVUsUUFBUTtBQUFBLFFBQ2xCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLGFBQWEsUUFBUTtBQUFBLFFBQ3JCLE1BQU0sUUFBUTtBQUFBLFFBQ2QsZUFBZSxRQUFRO0FBQUEsUUFDdkIsT0FBTyxRQUFRO0FBQUEsUUFDZixhQUNJLENBQUMsVUFBVSxRQUFRLGtDQUFrQyxTQUMvQyxnREFDQTtBQUFBLFFBQ1YsZUFBZSxVQUNULHlGQUNBO0FBQUEsTUFDVjtBQUFBLE1BQ0EsTUFBTTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFRTjtBQUFBLElBQ0o7QUFBQSxFQUNKLENBQUM7QUFDTDs7O0FDcENBLE9BQU8sa0JBQWtCO0FBRWxCLFNBQVMsaUJBQWlCO0FBQzdCLFFBQU0sU0FBUyxhQUFhO0FBQUEsSUFDeEIsVUFBVTtBQUFBLE1BQ04sbUJBQW1CO0FBQUEsTUFDbkIsWUFBWTtBQUFBLElBQ2hCO0FBQUEsSUFDQSxTQUFTO0FBQUEsTUFDTCxtQkFBbUI7QUFBQSxJQUN2QjtBQUFBLElBQ0EsU0FBUztBQUFBLE1BQ0wsU0FBUztBQUFBLElBQ2I7QUFBQSxJQUNBLFVBQVU7QUFBQSxNQUNOLFNBQVMsQ0FBQyxLQUFLLEdBQUc7QUFBQSxNQUNsQixPQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsTUFBTTtBQUFBLE1BQ0YsU0FBUztBQUFBLFFBQ0w7QUFBQSxVQUNJLGVBQWU7QUFBQSxRQUNuQjtBQUFBLFFBQ0E7QUFBQSxVQUNJLGtCQUFrQjtBQUFBLFFBQ3RCO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKLENBQUM7QUFDRCxTQUFPO0FBQ1g7OztBQ2hDQSxTQUFTLGVBQWU7QUFJakIsU0FBUyxVQUFVLEtBQW9CO0FBQzFDLFFBQU07QUFBQSxJQUNGLHFCQUFxQjtBQUFBLElBQ3JCLDRCQUE0QjtBQUFBLElBQzVCLGlDQUFpQztBQUFBLEVBQ3JDLElBQUk7QUFFSixNQUFJLGNBQWM7QUFFZCxVQUFNQyxhQUFZLFFBQVE7QUFBQSxNQUN0QixVQUFVO0FBQUEsUUFDTixNQUFNO0FBQUEsUUFDTixZQUFZO0FBQUEsUUFDWixPQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFFBWVA7QUFBQSxNQUNKO0FBQUEsSUFDSixDQUFDO0FBQ0QsV0FBT0E7QUFBQSxFQUNYO0FBQ0EsU0FBTyxDQUFDO0FBQ1o7OztBQ3BDQSxTQUFTLDRCQUE0QjtBQUNyQyxPQUFPLFVBQVU7QUFFVixTQUFTLGVBQWUsUUFBaUI7QUFDNUMsUUFBTUMsa0JBQWlCLHFCQUFxQjtBQUFBLElBQ3hDLFVBQVUsQ0FBQyxLQUFLLFFBQVEsUUFBUSxJQUFJLEdBQUcsZ0JBQWdCLENBQUM7QUFBQSxJQUN4RCxhQUFhO0FBQUE7QUFBQSxJQUViLFVBQVU7QUFBQSxFQUNkLENBQUM7QUFDRCxTQUFPQTtBQUNYOzs7QUNYQSxTQUFTLGtCQUFrQjtBQUdwQixTQUFTLG1CQUFtQjtBQUMvQixNQUFJLFFBQVEsSUFBSSxRQUFRO0FBQ3BCLFVBQU0sSUFBSSxXQUFXO0FBQUEsTUFDakIsVUFBVTtBQUFBLE1BQ1YsTUFBTTtBQUFBLE1BQ04sVUFBVTtBQUFBLE1BQ1YsWUFBWTtBQUFBLElBQ2hCLENBQUM7QUFDRCxXQUFPLENBQUMsQ0FBc0I7QUFBQSxFQUNsQztBQUNBLFNBQU8sQ0FBQztBQUNaOzs7QUNkQSxPQUFPLGNBQWM7QUFFZCxTQUFTLFdBQTJCO0FBQ3ZDLFNBQU8sQ0FBQyxTQUFTLENBQUM7QUFDdEI7OztBUFFPLElBQU0sb0JBQW9CLENBQUMsU0FBd0IsUUFBaUIsWUFBcUI7QUFDNUYsUUFBTTtBQUFBLElBQ0Ysb0JBQW9CO0FBQUEsSUFDcEIsaUNBQWlDO0FBQUEsSUFDakMsK0NBQStDO0FBQUEsSUFDL0MsMEJBQTBCO0FBQUEsRUFDOUIsSUFBSTtBQUVKLFFBQU0sY0FBaUQsQ0FBQztBQUV4RCxjQUFZLEtBQUssTUFBTSxDQUFDO0FBQ3hCLGNBQVksS0FBSyxHQUFHLGdCQUFnQixTQUFTLFFBQVEsT0FBTyxDQUFDO0FBQzdELGNBQVksS0FBSyxlQUFlLE1BQU0sQ0FBQztBQUN2QyxjQUFZLEtBQUssR0FBRyxTQUFTLENBQUM7QUFDOUIsY0FBWSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDL0IsY0FBWSxLQUFLLEdBQUcsaUJBQWlCLENBQUM7QUFHdEMsTUFBSSxRQUFRO0FBRVIsZ0JBQVk7QUFBQSxNQUNSLHNCQUFzQixjQUFjLGtDQUFrQyxNQUFNO0FBQUE7QUFBQSxJQUNoRjtBQUNBLDBCQUFzQixVQUFVLFlBQVksS0FBSyxlQUFlLENBQUM7QUFDakUsZ0JBQVksS0FBSyxHQUFHLFVBQVUsT0FBTyxDQUFDO0FBQUEsRUFDMUM7QUFFQSxTQUFPO0FBQ1g7OztBRHpDQSxJQUFNLG1DQUFtQztBQU16QyxJQUFPLHNCQUFRLGFBQWEsQ0FBQyxFQUFFLFNBQVMsS0FBSyxNQUFNO0FBQy9DLFVBQVEsS0FBSyxjQUFjLE9BQU87QUFDbEMsVUFBUSxLQUFLLFdBQVcsSUFBSTtBQUU1QixRQUFNLFVBQVUsUUFBUSxNQUFNLE9BQU87QUFFckMsUUFBTSxVQUF5QjtBQUMvQixVQUFRLEtBQUssdUJBQXVCLE9BQU87QUFJM0MsTUFBSSxPQUFPLFNBQVMsUUFBUSxhQUFhLE1BQU07QUFDL0MsTUFBSSxNQUFNLElBQUk7QUFBRyxXQUFPO0FBQ3hCLFVBQVEsSUFBSSxXQUFXLElBQUk7QUFFM0IsUUFBTSxVQUFVLFlBQVk7QUFDNUIsUUFBTSxTQUFTLFlBQVksV0FBVyxTQUFTO0FBRy9DLFFBQU0sZUFBZSxVQUFVLFFBQVEsc0JBQXNCO0FBQzdELFFBQU0sZ0JBQWdCLFVBQVUsUUFBUSx1QkFBdUI7QUFFL0QsTUFBSSxTQUFjLENBQUM7QUFDbkIsTUFBSSxDQUFDLFNBQVM7QUFDVixhQUFTO0FBQUEsTUFDTCxHQUFHO0FBQUE7QUFBQSxNQUVILHdCQUF3QixLQUFLLFVBQVUsSUFBSTtBQUFBO0FBQUEsTUFDM0MsZUFBZSxRQUFRO0FBQUE7QUFBQSxJQUMzQjtBQUFBLEVBQ0o7QUFFQSxRQUFNLFNBQXFCO0FBQUEsSUFDdkIsV0FBVztBQUFBO0FBQUEsSUFDWDtBQUFBO0FBQUEsSUFDQTtBQUFBLElBQ0EsU0FBUyxDQUFDLEdBQUcsa0JBQWtCLFNBQVMsUUFBUSxPQUFPLENBQUM7QUFBQTtBQUFBLElBQ3hELFNBQVM7QUFBQSxNQUNMLE9BQU87QUFBQSxRQUNILEtBQUtDLE1BQUssUUFBUSxrQ0FBVyxLQUFLO0FBQUE7QUFBQSxNQUN0QztBQUFBLE1BQ0EsWUFBWSxDQUFDLE9BQU8sT0FBTyxRQUFRLE1BQU07QUFBQTtBQUFBLElBQzdDO0FBQUEsSUFDQSxPQUFPO0FBQUEsTUFDSCxRQUFRO0FBQUEsTUFDUixRQUFRLFNBQVMsV0FBVztBQUFBO0FBQUEsTUFDNUIsZUFBZSxVQUFVO0FBQUEsUUFDckIsVUFBVTtBQUFBO0FBQUEsVUFFTjtBQUFBO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxTQUFTLENBQUM7QUFBQSxJQUNWLGNBQWM7QUFBQSxNQUNWLGdCQUFnQjtBQUFBLFFBQ1osUUFBUTtBQUFBO0FBQUEsTUFDWjtBQUFBLElBQ0o7QUFBQSxJQUNBLFFBQVE7QUFBQSxJQUNSLFdBQVcsQ0FBQyxTQUFTLFdBQVcsU0FBUztBQUFBLElBQ3pDLGFBQWE7QUFBQSxFQUNqQjtBQUVBLE1BQUksQ0FBQyxRQUFRO0FBQ1QsV0FBTztBQUFBO0FBQUEsTUFFSCxHQUFHO0FBQUEsTUFDSCxRQUFRO0FBQUEsUUFDSixLQUFLO0FBQUE7QUFBQSxRQUNMLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKLE9BQU87QUFDSCxXQUFPO0FBQUE7QUFBQSxNQUVILEdBQUc7QUFBQSxJQUNQO0FBQUEsRUFDSjtBQUNKLENBQUM7IiwKICAibmFtZXMiOiBbInBhdGgiLCAicHdhUGx1Z2luIiwgInN2Z0ljb25zUGx1Z2luIiwgInBhdGgiXQp9Cg==
